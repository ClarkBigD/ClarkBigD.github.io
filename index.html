
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>ClarkBigD&#39;s Digital World</title>
    <meta name="author" content="ClarkBigD" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>





<script src="/js/lib/home.js"></script>

<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>CLARKBIGD&#39;S DIGITAL WORLD</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;CLARKBIGD&#39;S DIGITAL WORLD</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div id="home-head">
    <div id="home-background" ref="homeBackground" data-images="/images/background.jpg"></div>
    <div id="home-info" @click="homeClick">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>ClarkBigD&#39;s Digital World</h1>
                <h3></h3>
                <h5></h5>
            </div>
        </span>
    </div>
</div>
<div id="home-posts-wrap" true ref="homePostsWrap">
    <div id="home-posts">
        

<div class="post">
    <a href="/2024/03/31/Lab0%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">
        <h2 class="post-title">Lab0实验报告</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/3/31
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="BUAA-OS-Lab0实验报告"><a href="#BUAA-OS-Lab0实验报告" class="headerlink" title="BUAA-OS Lab0实验报告"></a>BUAA-OS Lab0实验报告</h1><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><h3 id="Thinking-0-1"><a href="#Thinking-0-1" class="headerlink" title="Thinking 0.1"></a>Thinking 0.1</h3><h4 id="Q-思考下列有关-Git-的问题："><a href="#Q-思考下列有关-Git-的问题：" class="headerlink" title="Q:思考下列有关 Git 的问题："></a>Q:思考下列有关 Git 的问题：</h4><ul>
<li><p>在前述已初始化的 ~&#x2F;learnGit 目录下，创建一个名为 README.txt 的文件。执行命令 <code>git status &gt; Untracked.txt</code>（其中的 &gt; 为输出重定向，我们将在 0.6.3 中详细介绍）。</p>
</li>
<li><p>在 README.txt 文件中添加任意文件内容，然后使用 add 命令，再执行命令 <code>git status &gt; Stage.txt</code>。</p>
</li>
<li><p>提交 README.txt，并在提交说明里写入自己的学号。</p>
</li>
<li><p>执行命令 <code>cat Untracked.txt</code> 和 <code>cat Stage.txt</code>，对比两次运行的结果，体会README.txt 两次所处位置的不同。</p>
</li>
<li><p>修改 README.txt 文件，再执行命令 <code>git status &gt; Modified.txt</code>。</p>
</li>
<li><p>执行命令 <code>cat Modified.txt</code>，观察其结果和第一次执行 add 命令之前的 status 是否一样，并思考原因。</p>
</li>
</ul>
<h4 id="A"><a href="#A" class="headerlink" title="A:"></a>A:</h4><p>执行<code>cat Untracked.txt</code>后输出：</p>
<pre><code class="bash">位于分支 master

尚无提交

未跟踪的文件:
  （使用 &quot;git add &lt;文件&gt;...&quot; 以包含要提交的内容）
        Untracked.txt

提交为空，但是存在尚未跟踪的文件（使用 &quot;git add&quot; 建立跟踪）
</code></pre>
<p>执行<code>cat Stage.txt</code>后输出：</p>
<pre><code class="shell">位于分支 master

尚无提交

要提交的变更：
  （使用 &quot;git rm --cached &lt;文件&gt;...&quot; 以取消暂存）
        新文件：   README.txt
        新文件：   Untracked.txt

未跟踪的文件:
  （使用 &quot;git add &lt;文件&gt;...&quot; 以包含要提交的内容）
        Stage.txt
</code></pre>
<p>执行<code>cat Modified.txt</code>后输出：</p>
<pre><code class="shell">位于分支 master
尚未暂存以备提交的变更：
  （使用 &quot;git add &lt;文件&gt;...&quot; 更新要提交的内容）
  （使用 &quot;git restore &lt;文件&gt;...&quot; 丢弃工作区的改动）
        修改：     README.txt

未跟踪的文件:
  （使用 &quot;git add &lt;文件&gt;...&quot; 以包含要提交的内容）
        Modified.txt
        Stage.txt

修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）
</code></pre>
<p><code>cat Modified.txt</code>与执行add前的status并不一样，第一次add之前是的status是<strong>未跟踪的文件</strong>, 修改README.txt之后的status是<em><strong>尚未暂存以备提交的变更</strong></em>，并提示<strong>修改: README.txt</strong>。因为第一次add之前我们刚刚在工作区新建README.md文件，在工作区中之前没有出现过，在暂存区中没有README.txt，所以显示该文件没有被追踪。而修改README.txt后，这时候在工作区和暂存区都存在，即该文件已被追踪到，因此会显示该文件已被修改而不是“未被追踪”。</p>
<h3 id="Thinking-0-2"><a href="#Thinking-0-2" class="headerlink" title="Thinking 0.2"></a>Thinking 0.2</h3><h4 id="Q-仔细看看0-10，思考一下箭头中的-add-the-file-、stage-the-file-和-commit-分别对应的是-Git-里的哪些命令呢？"><a href="#Q-仔细看看0-10，思考一下箭头中的-add-the-file-、stage-the-file-和-commit-分别对应的是-Git-里的哪些命令呢？" class="headerlink" title="Q:仔细看看0.10，思考一下箭头中的 add the file 、stage the file 和 commit 分别对应的是 Git 里的哪些命令呢？"></a>Q:仔细看看0.10，思考一下箭头中的 add the file 、stage the file 和 commit 分别对应的是 Git 里的哪些命令呢？</h4><h4 id="A-1"><a href="#A-1" class="headerlink" title="A:"></a>A:</h4><ul>
<li><p>add the file -&gt; git add</p>
</li>
<li><p>stage the file -&gt; git add</p>
</li>
<li><p>Commit -&gt; git commit</p>
</li>
</ul>
<h3 id="Thinking-0-3"><a href="#Thinking-0-3" class="headerlink" title="Thinking 0.3"></a>Thinking 0.3</h3><h4 id="Q-思考下列问题："><a href="#Q-思考下列问题：" class="headerlink" title="Q:思考下列问题："></a>Q:思考下列问题：</h4><ul>
<li>代码文件 print.c 被错误删除时，应当使用什么命令将其恢复？</li>
<li>代码文件 print.c 被错误删除后，执行了 git rm print.c 命令，此时应当 使用什么命令将其恢复？</li>
<li>无关文件 hello.txt 已经被添加到暂存区时，如何在不删除此文件的前提下 将其移出暂存区？</li>
</ul>
<h4 id="A-2"><a href="#A-2" class="headerlink" title="A:"></a>A:</h4><ul>
<li>‘<code> git checkout --print.c</code></li>
<li><code>git reset HEAD print.c &amp;&amp; git checkout --print.c </code></li>
<li><code>git rm --cached print.c</code></li>
</ul>
<h3 id="Thinking-0-4"><a href="#Thinking-0-4" class="headerlink" title="Thinking 0.4"></a>Thinking 0.4</h3><h4 id="Q-思考下列有关-Git-的问题：-1"><a href="#Q-思考下列有关-Git-的问题：-1" class="headerlink" title="Q:思考下列有关 Git 的问题："></a>Q:思考下列有关 Git 的问题：</h4><ul>
<li><p>找到在 &#x2F;home&#x2F;22xxxxxx&#x2F;learnGit 下刚刚创建的 README.txt 文件，若不存在则新建该文件。</p>
</li>
<li><p>在文件里加入 Testing <strong>1</strong>，git add，git commit，提交说明记为 <strong>1</strong>。</p>
</li>
<li><p>模仿上述做法，把 1 分别改为 2 和 3，再提交两次。</p>
</li>
<li><p>使用 git log 命令查看提交日志，看是否已经有三次提交，记下提交说明为3 的哈希值<em>a</em>。</p>
</li>
<li><p>进行版本回退。执行命令 git reset –hard HEAD^ 后，再执行 git log，观察其变化。</p>
</li>
<li><p>找到提交说明为 1 的哈希值，执行命令 git reset –hard <hash> 后，再执行 git log，观察其变化。</p>
</li>
<li><p>现在已经回到了旧版本，为了再次回到新版本，执行 git reset –hard <hash>，再执行 git log，观察其变化。</p>
</li>
</ul>
<h4 id="A-3"><a href="#A-3" class="headerlink" title="A:"></a>A:</h4><ul>
<li><p>第一次log：</p>
<p>![7781710382754_.pic](&#x2F;Users&#x2F;yanshaoze&#x2F;Library&#x2F;Containers&#x2F;com.tencent.xinWeChat&#x2F;Data&#x2F;Library&#x2F;Application Support&#x2F;com.tencent.xinWeChat&#x2F;2.0b4.0.9&#x2F;4edf236a49580892cf436207d52395f4&#x2F;Message&#x2F;MessageTemp&#x2F;9e20f478899dc29eb19741386f9343c8&#x2F;Image&#x2F;7781710382754_.pic.jpg)</p>
</li>
<li><p>第二次log：</p>
<p>![7791710383246_.pic](&#x2F;Users&#x2F;yanshaoze&#x2F;Library&#x2F;Containers&#x2F;com.tencent.xinWeChat&#x2F;Data&#x2F;Library&#x2F;Application Support&#x2F;com.tencent.xinWeChat&#x2F;2.0b4.0.9&#x2F;4edf236a49580892cf436207d52395f4&#x2F;Message&#x2F;MessageTemp&#x2F;9e20f478899dc29eb19741386f9343c8&#x2F;Image&#x2F;7791710383246_.pic.jpg)</p>
</li>
<li><p>第三次log：</p>
<p>![7801710383381_.pic](&#x2F;Users&#x2F;yanshaoze&#x2F;Library&#x2F;Containers&#x2F;com.tencent.xinWeChat&#x2F;Data&#x2F;Library&#x2F;Application Support&#x2F;com.tencent.xinWeChat&#x2F;2.0b4.0.9&#x2F;4edf236a49580892cf436207d52395f4&#x2F;Message&#x2F;MessageTemp&#x2F;9e20f478899dc29eb19741386f9343c8&#x2F;Image&#x2F;7801710383381_.pic.jpg)</p>
</li>
<li><p>第四次log：</p>
<p>![7781710382754_.pic](&#x2F;Users&#x2F;yanshaoze&#x2F;Library&#x2F;Containers&#x2F;com.tencent.xinWeChat&#x2F;Data&#x2F;Library&#x2F;Application Support&#x2F;com.tencent.xinWeChat&#x2F;2.0b4.0.9&#x2F;4edf236a49580892cf436207d52395f4&#x2F;Message&#x2F;MessageTemp&#x2F;9e20f478899dc29eb19741386f9343c8&#x2F;Image&#x2F;7781710382754_.pic.jpg)</p>
</li>
</ul>
<h3 id="Thinking-0-5"><a href="#Thinking-0-5" class="headerlink" title="Thinking 0.5"></a>Thinking 0.5</h3><h4 id="Q-执行如下命令-并查看结果"><a href="#Q-执行如下命令-并查看结果" class="headerlink" title="Q: 执行如下命令, 并查看结果"></a>Q: 执行如下命令, 并查看结果</h4><ul>
<li>echo first</li>
<li>echo second &gt; output.txt</li>
<li>echo third &gt; output.txt</li>
<li>echo forth &gt;&gt; output.txt</li>
</ul>
<h4 id="A-4"><a href="#A-4" class="headerlink" title="A:"></a>A:</h4><p>![7761710380477_.pic](&#x2F;Users&#x2F;yanshaoze&#x2F;Library&#x2F;Containers&#x2F;com.tencent.xinWeChat&#x2F;Data&#x2F;Library&#x2F;Application Support&#x2F;com.tencent.xinWeChat&#x2F;2.0b4.0.9&#x2F;4edf236a49580892cf436207d52395f4&#x2F;Message&#x2F;MessageTemp&#x2F;9e20f478899dc29eb19741386f9343c8&#x2F;Image&#x2F;7761710380477_.pic.jpg)</p>
<h3 id="Thinking-0-6"><a href="#Thinking-0-6" class="headerlink" title="Thinking 0.6"></a>Thinking 0.6</h3><h4 id="Q-使用你知道的方法（包括重定向）创建下图内容的文件（文件命名为-test），将创建该文件的命令序列保存在-command-文件中，并将-test-文件作为批处理文件运行，将运行结果输出至-result-文件中。给出-command-文件和-result-文件的内容，并对最后的结果进行解释说明（可以从-test-文件的内容入手）-具体实现的过程中思考下列问题-echo-echo-Shell-Start-与-echo-echo-Shell-Start-效果是否有区别-echo-echo-c-file1与-echo-echo-c-file1-效果是否有区别"><a href="#Q-使用你知道的方法（包括重定向）创建下图内容的文件（文件命名为-test），将创建该文件的命令序列保存在-command-文件中，并将-test-文件作为批处理文件运行，将运行结果输出至-result-文件中。给出-command-文件和-result-文件的内容，并对最后的结果进行解释说明（可以从-test-文件的内容入手）-具体实现的过程中思考下列问题-echo-echo-Shell-Start-与-echo-echo-Shell-Start-效果是否有区别-echo-echo-c-file1与-echo-echo-c-file1-效果是否有区别" class="headerlink" title="Q:使用你知道的方法（包括重定向）创建下图内容的文件（文件命名为 test），将创建该文件的命令序列保存在 command 文件中，并将 test 文件作为批处理文件运行，将运行结果输出至 result 文件中。给出 command 文件和 result 文件的内容，并对最后的结果进行解释说明（可以从 test 文件的内容入手）. 具体实现的过程中思考下列问题: echo echo Shell Start 与 echo echo Shell Start 效果是否有区别; echo echo $c&gt;file1与 echo echo $c&gt;file1 效果是否有区别."></a>Q:使用你知道的方法（包括重定向）创建下图内容的文件（文件命名为 test），将创建该文件的命令序列保存在 command 文件中，并将 test 文件作为批处理文件运行，将运行结果输出至 result 文件中。给出 command 文件和 result 文件的内容，并对最后的结果进行解释说明（可以从 test 文件的内容入手）. 具体实现的过程中思考下列问题: echo echo Shell Start 与 echo <code>echo Shell Start</code> 效果是否有区别; echo echo $c&gt;file1与 echo <code>echo $c&gt;file1</code> 效果是否有区别.</h4><h4 id="A-5"><a href="#A-5" class="headerlink" title="A:"></a>A:</h4><pre><code class="bash">#!/bin/bash                                                              
touch test
echo &#39;echo Shell Start...&#39; &gt; test
echo &#39;echo set a = 1&#39; &gt;&gt; test
echo &#39;a=1&#39; &gt;&gt; test
echo &#39;echo set b = 2&#39; &gt;&gt; test
echo &#39;b=2&#39; &gt;&gt; test
echo &#39;echo set c = a+b&#39; &gt;&gt; test
echo &#39;c=$[$a+$b]&#39; &gt;&gt; test
echo &#39;echo c = $c&#39; &gt;&gt; test
echo &#39;echo save c to ./file1&#39; &gt;&gt; test
echo &#39;echo $c&gt;file1&#39; &gt;&gt; test
echo &#39;echo save b to ./file2&#39; &gt;&gt; test
echo &#39;echo $b&gt;file2&#39; &gt;&gt; test
echo &#39;echo save a to ./file3&#39; &gt;&gt; test
echo &#39;echo $a&gt;file3&#39; &gt;&gt; test
echo &#39;echo save file1 file2 file3 to file4&#39; &gt;&gt; test
echo &#39;cat file1&gt;file4&#39; &gt;&gt; test
echo &#39;cat file2&gt;&gt;file4&#39; &gt;&gt; test
echo &#39;cat file3&gt;&gt;file4&#39; &gt;&gt; test
echo &#39;echo save file4 to ./result&#39; &gt;&gt; test
echo &#39;cat file4&gt;&gt;result&#39; &gt;&gt; test
</code></pre>
<p>result中内容：</p>
<pre><code class="bash">3
2
1
</code></pre>
<ul>
<li><p>echo echo Shell Start是直接输出“echo Shell Start”; 而 echo <code>echo Shell Start</code>是将 “echo Shell Start” 的输出作为 外层echo 的输入，故会输出 “Shell Start”；</p>
</li>
<li><p>echo echo $c&gt;file1 直接把“echo $c&gt;file1” 作为字符串输出；而echo <code>echo $c&gt;file1</code>是将 “echo $c&gt;file1” 的输出作为 外层echo 的输入，故会输出 $c&gt;file1；</p>
</li>
</ul>
<h2 id="实验及难点分析"><a href="#实验及难点分析" class="headerlink" title="实验及难点分析"></a>实验及难点分析</h2><p>这一部分我将撰写指南中的难点分析和实验分析和到了一起，主要分析一下课下和课上遇到的一些问题以及解决的方案。</p>
<h3 id="课下测试"><a href="#课下测试" class="headerlink" title="课下测试"></a>课下测试</h3><p>lab0课下测试难度不是很大，涉及到一些linux的基本操作，在指导书和教程中都可以找到相关指令的用法，其中有几个考点容易被忽视掉：</p>
<ul>
<li>makefile的嵌套调用：<code>$(MAKE) -C code</code></li>
<li>makefile不要忘记加上依赖文件dependencies</li>
<li>sed中一行一行输出时每行用“;”隔开：<code>sed -n &#39;8p;16p;32p&#39; filename</code></li>
<li><code>$?</code>表示上一条命令返回的值，<code>$#</code>表示传入参数的数量</li>
</ul>
<h3 id="课上测试"><a href="#课上测试" class="headerlink" title="课上测试"></a>课上测试</h3><h4 id="lab0-exam"><a href="#lab0-exam" class="headerlink" title="lab0-exam"></a>lab0-exam</h4><p>这部分一共有9道题，分为以下几个考点：</p>
<ul>
<li>创建文件夹(mkdir)</li>
<li>将文件夹及其内部文件递归复制(cp -r)</li>
<li>将某一文件中的内容输出到标准输出(cat)</li>
<li>将.c文件编译生成.o文件(gcc -c)</li>
<li>将多个.o文件链接生成可执行文件(gcc)</li>
<li>将文件的内容的标准错误输出重定向(2&gt;)</li>
<li>移动文件(mv)</li>
<li>修改文件权限(chmod)</li>
<li>输出文件中某一行的内容并重定向至标准错误输出(sed)(&gt;&amp;2)</li>
</ul>
<p>其中chmod的权限可能比较陌生，我们平常基本上只使用<code>chmod +x filename</code>，但是测试中出了权限设定为rw-r-xr-x。翻阅指导书我才知道可以将rwx看成3位二进制数，比如本题就是110101101，换算成十进制就是655，故答案为<code>chmod 655 err.txt</code>。</p>
<p>其次最后一个题花费了我很长时间，在于忘记了sed的引号内如何使用变量，通过查阅lab0的课下习题我回想起来要把单引号换成双引号，也就是<code>sed -n &quot;$n p&quot; err.txt &gt;&amp;2 </code>。</p>
<h4 id="lab0-extra"><a href="#lab0-extra" class="headerlink" title="lab0-extra"></a>lab0-extra</h4><p>Lab0-extra部分有三段代码填空，题目描述比较复杂，理解题意需要一定时间，可以拆分成以下三个内容：</p>
<ul>
<li>-s选项将给定的文本文件进行双变量排序</li>
<li>-q选项查找给定字符串所在的行</li>
<li>-p选项递归查找父进程</li>
</ul>
<p>前两个问题可以用提示中给出的sort命令和grep命令解决，难点在于第三个问题，我的extra最后只得60分就在于卡在了第三个空，主要原因是不知道如何将awk输出的值赋值给变量，课后跟同学交流后完善了我课上的答案，经测试可以运行得出正确结果。</p>
<pre><code class="bash">a=$PID
while ((a &gt; 0))
do
    awk -v input=$a &#39;$2==input &#123;print $3&#125;&#39; $FILE
    a=$(awk -v input=$a &#39;$2==input &#123;print $3&#125;&#39; $FILE)
done
</code></pre>
<p>我的错误点就在于不知道可以用$()的方式将一条命令的输出值赋值给变量，通过本次extra的教训我对于shell的基本语法有了更进一步的掌握。</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
        
    </div>
    <a href="/2024/03/31/Lab0%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/03/31/Unit1%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%B1%95%E5%BC%80%E6%80%BB%E7%BB%93/">
        <h2 class="post-title">Unit1表达式展开总结</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/3/31
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="2024-BUAA-OO-Unit1表达式展开总结"><a href="#2024-BUAA-OO-Unit1表达式展开总结" class="headerlink" title="2024 BUAA-OO Unit1表达式展开总结"></a>2024 BUAA-OO Unit1表达式展开总结</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本次面向对象设计与构造第一单元的三次作业通过迭代实现了对输入的表达式进行展开和计算的功能。通过本单元学习，我对于递归下降和深克隆等等有了更深的认识。</p>
<h2 id="架构设计体验"><a href="#架构设计体验" class="headerlink" title="架构设计体验"></a>架构设计体验</h2><h3 id="第一次作业"><a href="#第一次作业" class="headerlink" title="第一次作业"></a>第一次作业</h3><p>本次作业需要完成的任务为：读入一个包含加、减、乘、乘方以及括号（其中括号的深度<strong>至多为 1 层</strong>）的<strong>单变量</strong>表达式，输出<strong>恒等变形展开所有括号后</strong>的表达式。</p>
<p>第一次作业的要求不算复杂，最大的难点在于理解课程组给出的关于表达式、项和因子的层次化表达以及递归下降的方法。在我看来第一次作业可以拆解成两大模块：表达式的解析、展开后的计算和合并。</p>
<p>解析这部分的核心就是Lexer和Parser两个类，Lexer作为分词器负责将输入的表达式的组成部分识别和提取出来，在这里我借鉴了oolens公众号推文中的做法，在初始化Lexer时就将输入的字符串input解析好存入<code>ArrayList&lt;Token&gt;</code>中，之后在Parser中每次调用Lexer.nextToken()方法将ArrayList的下标加一即可。</p>
<pre><code class="java">//Lexer.java
public class Lexer&#123;
    private int pos = 0;
    private final String input;
    private int indexOfToken = 0;
    private ArrayList&lt;Token&gt; tokens;
  
      public Lexer(String input) &#123;
           //TODO
    &#125;
      
      public void nextToken()&#123;
          indexOfToken++;
    &#125;
      
      public Token curToken()&#123;
          return tokens.get(indexOfToken);
    &#125;
&#125;
</code></pre>
<p>Parser将我们拆分好的token解析成对应的因子、项和表达式。这部分给我带来的最大的收获就是“铁路警察，各管一段”的思想，当parseExpr()的时候需要得到构成这个Expr的各个项，但是我们只需要直接调用parseTerm()就好，不必去考虑parseTerm()实现的具体细节，同理当parseTerm()的时候也不必去思考parseFactor()是怎么实现的，真正使得各个方法各司其职。</p>
<p>而到了展开计算这部分，我借鉴了往届学长博客的思路，因为我们最后得到的结果都是形如<br>$$<br>\sum{a<em>x^b}<br>$$<br>这样的形式，所以我用Unit类来存储a</em>x^b这样的单项式，用Poly类来存储求和后的多项式，在Poly类中设置addPoly()和mulPoly()进行加法乘法计算，对应的在Unit中也要实现mulUnit()方法。</p>
<pre><code class="java">//Unit.java
public class Unit&#123;
      private BigInteger coe;  //系数
      private BigInteger expo; //x的指数
  
      public Unit mulUnit(Unit other) &#123;
        return new Unit(coe.multiply(other.coe), expo.multiply(other.expo));
    &#125;
&#125;
</code></pre>
<h3 id="第二次作业"><a href="#第二次作业" class="headerlink" title="第二次作业"></a>第二次作业</h3><p>本次作业中需要完成的任务为：读入<strong>一系列自定义函数的定义</strong>以及一个包含幂函数、指数函数、自定义函数调用的<strong>表达式</strong>，输出<strong>恒等变形展开所有括号后</strong>的表达式。相较于第一次作业改变比较大，尤其体现在最后多项式的加法乘法以及合并同类项的逻辑上。</p>
<h4 id="自定义函数部分"><a href="#自定义函数部分" class="headerlink" title="自定义函数部分"></a>自定义函数部分</h4><p>在自定义函数部分我设计了两个类，CustomDefiner和FuncFactor类，分别负责处理自定义函数以及在解析的时候转化为函数因子。</p>
<h5 id="CustomDefiner"><a href="#CustomDefiner" class="headerlink" title="CustomDefiner"></a>CustomDefiner</h5><p>由于我们定义的函数并不为某一个因子所特有，而是在这一表达式中通用，联想到课上荣文戈老师举出的选课系统的例子加上往届学长的优秀博客的启发，我打算采用一个静态的工具类来存储自定义函数的相关信息，如函数名、函数的形参以及函数的定义式，并且它并不实例化对象，所以所有的属性和方法都设置成static。</p>
<p>在该类中包含两个HashMap属性:</p>
<ul>
<li>func2def通过函数名寻找到函数的定义式</li>
<li>func2virtual通过函数名寻找到形参列表。</li>
</ul>
<pre><code class="java">public class CustomDefiner &#123;
    private static HashMap&lt;String, String&gt; func2def = new HashMap&lt;&gt;();
    private static HashMap&lt;String, ArrayList&lt;String&gt;&gt; func2virtual = new HashMap&lt;&gt;();
&#125;
</code></pre>
<p>同时该类包含两个方法:</p>
<ul>
<li>addFunc负责在标准输入自定义函数中将函数相关信息进行解析和存储。</li>
<li>callFunc负责解析表达式中的函数因子时将实参代入进行表达式替换</li>
</ul>
<pre><code class="java">//CustomDefiner.java
public static void addFunc(String input)&#123;
      //TODO//
&#125;
public static String callFunc(String name, ArrayList&lt;Factor&gt; actualParameters)&#123;
      //TODO//
&#125;
</code></pre>
<p>值得一提的是，在callFunc中进行表达式替换时我并没有采取replaceAll的方式，因为这样可能导致字母替换的混乱，所以在这里我采取了一种朴素的略显笨拙的方案，就是建立一个从形参到实参的HashMap映射，然而遍历函数的定义式字符串，如果遇到形参就替换成实参，其中遇到exp的时候要特殊处理，具体实现如下：</p>
<pre><code class="java">//CustomDefiner.java
//callFunc
StringBuilder sb = new StringBuilder();
HashMap&lt;String, Factor&gt; vir2actual = new HashMap&lt;&gt;();
for (int i = 0; i &lt; parameters.size(); i++) &#123;
                        vir2actual.put(parameters.get(i), actualParameters.get(i));
&#125;
for (int i = 0; i &lt; definition.length(); i++) &#123;
            String cur = String.valueOf(definition.charAt(i));
                      if(cur.equals(&quot;e&quot;)) &#123;
                  sb.append(&quot;exp(&quot;);
                  i+=3;
            &#125;
            else if (vir2actual.containsKey(cur)) &#123;
                Factor factor = vir2actual.get(cur);
                sb.append(factor.toPoly().toString());
            &#125; else &#123;
                sb.append(cur);
            &#125;
        &#125;
return sb.toString();
</code></pre>
<h5 id="FuncFactor"><a href="#FuncFactor" class="headerlink" title="FuncFactor"></a>FuncFactor</h5><p>在FuncFactor类中只包含一个Expr属性funcExpr, 意为将表达式中的函数替换后得到的表达式：</p>
<pre><code class="java">//FuncFactor.java
public class FuncFactor implements Factor &#123;
    private Expr funcExpr;

    public FuncFactor(String name, ArrayList&lt;Factor&gt; actualParameters) &#123;
        String funcString = CustomDefiner.callFunc(name,actualParameters);
        Lexer lexer = new Lexer(PreProcess.process(funcString));
        Parser parser = new Parser(lexer);
        funcExpr = parser.parseExpr();
    &#125;
</code></pre>
<h4 id="指数函数和合并同类项"><a href="#指数函数和合并同类项" class="headerlink" title="指数函数和合并同类项"></a>指数函数和合并同类项</h4><p>指数函数因子的实现比较简单，和第一次作业区别不大，这里不再赘述。</p>
<p>在我看来本次作业最大的难点在于最后答案的形式发生很大的变化，每一个最小单元加入了exp(factor)^n，最后的形式变成了<br>$$<br>\sum {a<em>x^b</em>e^{expExpo}}<br>$$<br>因此加法乘法和合并同类项的逻辑需要一些变动。</p>
<h5 id="Unit类"><a href="#Unit类" class="headerlink" title="Unit类"></a>Unit类</h5><ul>
<li><p>Unit类中，首先加入了指数函数括号外的指数expExpo以及exp括号内的多项式inside，为了方便运算，直接把inside定义为Poly类型的。</p>
<pre><code class="java">//Unit.java
public class Unit &#123;
    private BigInteger coe;
    private BigInteger expo;
    private Poly inside;
    private BigInteger expExpo;
&#125;
</code></pre>
</li>
<li><p>在运算时涉及到了深克隆的问题，如果直接在原对象上修改会产生一些意料之外的后果，于是我添加了一个深克隆方法</p>
<pre><code class="java">//Unit.java
public Unit deepClone() &#123;
        BigInteger newCoe = new BigInteger(coe.toString());
        if (inside.Empty() || inside.isZero() || expExpo.compareTo(zero) == 0) &#123;
            return new Unit(newCoe, expo);
        &#125; else &#123;
            Poly newInside = inside.deepClone();
            BigInteger newExpExpo = new BigInteger(expExpo.toString());
            return new Unit(newCoe, expo, newInside, newExpExpo);
        &#125;
    &#125;
</code></pre>
</li>
<li><p>由于要判断是否可以合并同类项，这里我重写了equals方法进行判断</p>
</li>
</ul>
<h5 id="Poly类"><a href="#Poly类" class="headerlink" title="Poly类"></a>Poly类</h5><ul>
<li><p>这里很多同学采用的HashMap来存储Unit来快速地进行合并同类项，我在采用HashMap的时候出现了很多问题，最后才用了ArrayList来存储，通过双重for循环来合并同类项。</p>
</li>
<li><p>在Poly类中同样需要实现深克隆，由于Unit中inside为Poly类型，所以深克隆的时候进行递归的调用</p>
<pre><code class="java">public Poly deepClone() &#123;
        Poly poly = new Poly();
        for (Unit unit : this.units) &#123;
            Unit newUnit = unit.deepClone();
            poly.addUnit(newUnit);
        &#125;
        return poly;
    &#125;
</code></pre>
</li>
</ul>
<h3 id="第三次作业"><a href="#第三次作业" class="headerlink" title="第三次作业"></a>第三次作业</h3><p>本次作业中需要完成的任务为：读入<strong>一系列自定义函数的定义</strong>以及一个包含幂函数、指数函数、自定义函数调用、求导算子的<strong>表达式</strong>，输出<strong>恒等变形展开所有括号后</strong>的表达式。</p>
<p>在前两次作业架构的基础上，第三次作业实现起来比较容易，在求导这一问题上，我认为有两种方法，一种是层次化求导，也就是在Expr, Term和Factor类中实现derive()方法，遇到dx()就调用对应的derive()；另一种是在最后转换成多项式后再求导也就是在Unit和Poly中实现derive()方法。这里我选择的是前者。</p>
<p>层次化求导的derive()方法比较好实现，为了解析求导因子，我建了个Derivation类来存储求导信息，其中要注意的是当求导因子嵌套的时候，要将Derivation存储的表达式转换成字符串，再用lexer和parser重新解析一次。</p>
<pre><code class="java">public class Derivation implements Factor &#123;
    private Expr expr;

    private Poly result;

    public Derivation(Expr expr) &#123;
        this.expr = expr;
        this.result = expr.derive();
    &#125;

    @Override
    public Poly toPoly() &#123;
        return result;
    &#125;

    @Override
    public Poly derive() &#123;
        Lexer lexer = new Lexer(this.toPoly().toString());
        Parser parser = new Parser(lexer);
        return parser.parseExpr().derive();
    &#125;

    @Override
    public Factor deepClone() &#123;
        return new Derivation(this.expr.deepClone());
    &#125;
&#125;
</code></pre>
<h2 id="bug分析"><a href="#bug分析" class="headerlink" title="bug分析"></a>bug分析</h2><p>我的bug主要集中在第一次作业上，有的项在运算后系数会变为0，我在toString()时将其变为空串，但是在最后输出的时候忘记特判使得加号保留了下来。第二次和第三次没有出现正确性上的bug，但是会有没有合并同类项的情况导致性能分暴跌，我的设计中由于用ArrayList存储Unit，这就导致<code>exp((x^2+2*x))</code>和<code>exp((2*x+x^2))</code>无法合并掉。</p>
<p>在互测中我利用评测机对房间内的成员的代码评测，大致确定bug产生的原因，然后针对这个bug手动构造一些复杂度较低但是精确hack的数据。找到的bug大多是在优化输出长度的过程中产生的，例如寻找最大公因数的时候出现除0操作，还有形如exp(-x^2)这样的去掉括号过多导致输出不合法。</p>
<h2 id="优化方面"><a href="#优化方面" class="headerlink" title="优化方面"></a>优化方面</h2><p>考虑到性能分占比不大，而且在优化exp的时候要考虑到的情况比较复杂，所以第二次作业我没有进行太多优化，仅仅特别判别了一下exp内是数字的情况，例如<code>exp(2)^2–&gt;exp(4)</code>，但是强测中有两个点的性能分直接爆零，其中一个测试点是exp内的多项式每一项的因数都相同，可以提取出去。所以在第三次作业中我特别处理了这种情况，以及优化了<code>exp((4*x))–&gt;exp(x)^4</code>这类情况。</p>
<p>但是优化方面我在toString()中用到了很多<code>if-else</code>来进行特判，导致代码的简洁性和可读性不高，目前还没想到太好的解决方案，课后计划和同学探讨一下。</p>
<h2 id="程序结构度量"><a href="#程序结构度量" class="headerlink" title="程序结构度量"></a>程序结构度量</h2><h3 id="第三次作业UML图"><a href="#第三次作业UML图" class="headerlink" title="第三次作业UML图"></a>第三次作业UML图</h3><p><img src="/Users/yanshaoze/Desktop/Grade2down/ObjectOriented/Homework/Unit1/oohomework_2024_22371456_hw_3/hw3.png" alt="hw3"></p>
<h3 id="代码规模："><a href="#代码规模：" class="headerlink" title="代码规模："></a>代码规模：</h3><p>![7891710837085_.pic](&#x2F;Users&#x2F;yanshaoze&#x2F;Library&#x2F;Containers&#x2F;com.tencent.xinWeChat&#x2F;Data&#x2F;Library&#x2F;Application Support&#x2F;com.tencent.xinWeChat&#x2F;2.0b4.0.9&#x2F;4edf236a49580892cf436207d52395f4&#x2F;Message&#x2F;MessageTemp&#x2F;9e20f478899dc29eb19741386f9343c8&#x2F;Image&#x2F;7891710837085_.pic.jpg)</p>
<h3 id="复杂度分析"><a href="#复杂度分析" class="headerlink" title="复杂度分析"></a>复杂度分析</h3><p>方法复杂度：</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>CogC</th>
<th>ev(G)</th>
<th>iv(G)</th>
<th>v(G)</th>
</tr>
</thead>
<tbody><tr>
<td>CustomDefiner.addFunc(String)</td>
<td>3.0</td>
<td>1.0</td>
<td>3.0</td>
<td>3.0</td>
</tr>
<tr>
<td>CustomDefiner.callFunc(String, ArrayList)</td>
<td>7.0</td>
<td>3.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr>
<td>Derivation.deepClone()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Derivation.Derivation(Expr)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Derivation.derive()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Derivation.toPoly()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>ExpFactor.deepClone()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>ExpFactor.derive()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>ExpFactor.ExpFactor(Factor, BigInteger)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>ExpFactor.toPoly()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>ExpFactor.toString()</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Expr.addTerm(Term)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Expr.deepClone()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Expr.derive()</td>
<td>14.0</td>
<td>1.0</td>
<td>7.0</td>
<td>7.0</td>
</tr>
<tr>
<td>Expr.Expr()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Expr.setExpo(BigInteger)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Expr.toPoly()</td>
<td>6.0</td>
<td>2.0</td>
<td>4.0</td>
<td>4.0</td>
</tr>
<tr>
<td>Expr.toString()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>FuncFactor.deepClone()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>FuncFactor.derive()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>FuncFactor.FuncFactor(String, ArrayList)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>FuncFactor.FuncFactor(String, Expr)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>FuncFactor.toPoly()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Lexer.back()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Lexer.curToken()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Lexer.getNumber()</td>
<td>2.0</td>
<td>1.0</td>
<td>3.0</td>
<td>3.0</td>
</tr>
<tr>
<td>Lexer.haveNext()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Lexer.Lexer(String)</td>
<td>15.0</td>
<td>1.0</td>
<td>14.0</td>
<td>16.0</td>
</tr>
<tr>
<td>Lexer.nextToken()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Lexer.notEnd()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Main.main(String[])</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>MyScan.MyScan(Scanner)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>MyScan.solve()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Number.deepClone()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Number.derive()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Number.getValue()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Number.Number(String)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Number.toPoly()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Number.toString()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Parser.parseDerive()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Parser.parseExpFactor()</td>
<td>7.0</td>
<td>3.0</td>
<td>4.0</td>
<td>5.0</td>
</tr>
<tr>
<td>Parser.parseExpo()</td>
<td>5.0</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
</tr>
<tr>
<td>Parser.parseExpr()</td>
<td>8.0</td>
<td>1.0</td>
<td>7.0</td>
<td>7.0</td>
</tr>
<tr>
<td>Parser.parseFactor()</td>
<td>22.0</td>
<td>8.0</td>
<td>12.0</td>
<td>12.0</td>
</tr>
<tr>
<td>Parser.parseFuncFactor(String)</td>
<td>5.0</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
</tr>
<tr>
<td>Parser.Parser(Lexer)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Parser.parseTerm(int)</td>
<td>2.0</td>
<td>1.0</td>
<td>3.0</td>
<td>3.0</td>
</tr>
<tr>
<td>Poly.addPoly(Poly)</td>
<td>2.0</td>
<td>1.0</td>
<td>3.0</td>
<td>3.0</td>
</tr>
<tr>
<td>Poly.addUnit(Unit)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Poly.deepClone()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Poly.divideCoe()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Poly.Empty()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Poly.equals(Object)</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Poly.getSameCoe()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Poly.getUnits()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Poly.hashCode()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Poly.hasNoExp()</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Poly.hasOneFactor()</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Poly.hasOnlyNumber()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Poly.haveSameCoe()</td>
<td>3.0</td>
<td>3.0</td>
<td>2.0</td>
<td>3.0</td>
</tr>
<tr>
<td>Poly.isZero()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Poly.mergePoly()</td>
<td>8.0</td>
<td>1.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr>
<td>Poly.mulPoly(Poly)</td>
<td>3.0</td>
<td>1.0</td>
<td>3.0</td>
<td>3.0</td>
</tr>
<tr>
<td>Poly.Poly()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Poly.toString()</td>
<td>14.0</td>
<td>6.0</td>
<td>6.0</td>
<td>8.0</td>
</tr>
<tr>
<td>Power.deepClone()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Power.derive()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Power.Power(String, BigInteger)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Power.toPoly()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Power.toString()</td>
<td>3.0</td>
<td>3.0</td>
<td>2.0</td>
<td>3.0</td>
</tr>
<tr>
<td>PreProcess.process(String)</td>
<td>21.0</td>
<td>1.0</td>
<td>7.0</td>
<td>10.0</td>
</tr>
<tr>
<td>Term.addFactor(Factor)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Term.deepClone()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Term.derive()</td>
<td>6.0</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
</tr>
<tr>
<td>Term.Term(int)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Term.toPoly()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Token.getContent()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Token.getType()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Token.Token(Type, String)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.deepClone()</td>
<td>3.0</td>
<td>2.0</td>
<td>4.0</td>
<td>4.0</td>
</tr>
<tr>
<td>Unit.equals(Object)</td>
<td>2.0</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
</tr>
<tr>
<td>Unit.getCoe()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.getExpo()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.getInsideMultiExpo()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.hasNoExp()</td>
<td>1.0</td>
<td>1.0</td>
<td>3.0</td>
<td>3.0</td>
</tr>
<tr>
<td>Unit.hasOneFactor()</td>
<td>5.0</td>
<td>3.0</td>
<td>4.0</td>
<td>6.0</td>
</tr>
<tr>
<td>Unit.hasOnlyNumber()</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
</tr>
<tr>
<td>Unit.haveSameExpo(Unit)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.isNegCoe()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.mulUnit(Unit)</td>
<td>8.0</td>
<td>4.0</td>
<td>3.0</td>
<td>4.0</td>
</tr>
<tr>
<td>Unit.optimise(StringBuilder)</td>
<td>6.0</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
</tr>
<tr>
<td>Unit.setCoe(BigInteger)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.setEmpty()</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.toString()</td>
<td>42.0</td>
<td>3.0</td>
<td>22.0</td>
<td>23.0</td>
</tr>
<tr>
<td>Unit.Unit(BigInteger)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.Unit(BigInteger, BigInteger)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Unit.Unit(BigInteger, BigInteger, Poly, BigInteger)</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>Total</td>
<td>237.0</td>
<td>129.0</td>
<td>229.0</td>
<td>244.0</td>
</tr>
<tr>
<td>Average</td>
<td>2.443298969072165</td>
<td>1.3298969072164948</td>
<td>2.3608247422680413</td>
<td>2.515463917525773</td>
</tr>
</tbody></table>
<p>其中由于输出逻辑比较复杂，导致Unit.toString()的复杂度比较高</p>
<p>类复杂度：</p>
<table>
<thead>
<tr>
<th>CustomDefiner</th>
<th>4.0</th>
<th>5.0</th>
<th>8.0</th>
</tr>
</thead>
<tbody><tr>
<td>Derivation</td>
<td>1.0</td>
<td>1.0</td>
<td>4.0</td>
</tr>
<tr>
<td>ExpFactor</td>
<td>1.2</td>
<td>2.0</td>
<td>6.0</td>
</tr>
<tr>
<td>Expr</td>
<td>2.5714285714285716</td>
<td>7.0</td>
<td>18.0</td>
</tr>
<tr>
<td>FuncFactor</td>
<td>1.0</td>
<td>1.0</td>
<td>5.0</td>
</tr>
<tr>
<td>Lexer</td>
<td>3.0</td>
<td>14.0</td>
<td>21.0</td>
</tr>
<tr>
<td>Main</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr>
<td>MyScan</td>
<td>1.5</td>
<td>2.0</td>
<td>3.0</td>
</tr>
<tr>
<td>Number</td>
<td>1.0</td>
<td>1.0</td>
<td>6.0</td>
</tr>
<tr>
<td>Parser</td>
<td>3.875</td>
<td>11.0</td>
<td>31.0</td>
</tr>
<tr>
<td>Poly</td>
<td>2.1666666666666665</td>
<td>8.0</td>
<td>39.0</td>
</tr>
<tr>
<td>Power</td>
<td>1.4</td>
<td>3.0</td>
<td>7.0</td>
</tr>
<tr>
<td>PreProcess</td>
<td>8.0</td>
<td>8.0</td>
<td>8.0</td>
</tr>
<tr>
<td>Term</td>
<td>2.0</td>
<td>4.0</td>
<td>10.0</td>
</tr>
<tr>
<td>Token</td>
<td>1.0</td>
<td>1.0</td>
<td>3.0</td>
</tr>
<tr>
<td>Token.Type</td>
<td></td>
<td></td>
<td>0.0</td>
</tr>
<tr>
<td>Unit</td>
<td>2.3333333333333335</td>
<td>17.0</td>
<td>42.0</td>
</tr>
<tr>
<td>Total</td>
<td></td>
<td></td>
<td>212.0</td>
</tr>
<tr>
<td>Average</td>
<td>2.185567010309278</td>
<td>5.375</td>
<td>12.470588235294118</td>
</tr>
</tbody></table>
<h2 id="心得体会"><a href="#心得体会" class="headerlink" title="心得体会"></a>心得体会</h2><p>有了上学期oopre学习的java语法和面向对象理念的基础上，加上公众号和实验中对于递归下降的训练，第一单元的作业相对来说不是特别困难。我的收获主要是以下几点：</p>
<ul>
<li>使用递归下降的方法逻辑清晰，实现简单，同时”铁路警察，各管一段“的理念和面向对象的设计方式更加贴合</li>
<li>学会利用工具类来处理类之间共用的属性(PreProcess, CustomDefiner)</li>
<li>使用深克隆来避免在同一对象上进行错误修改</li>
<li>单独使用一个类来进行输入(MyScan)</li>
<li>在互测中找到其他同学bug以及修复自身bug来提升面向对象的能力</li>
</ul>
<h2 id="未来方向"><a href="#未来方向" class="headerlink" title="未来方向"></a>未来方向</h2><p>建议课程组可以提供一些简单的编程练习题来训练Lexer和Parser之类的用法，第一次上手接触递归下还是比较陌生。</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
        
    </div>
    <a href="/2024/03/31/Unit1%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%B1%95%E5%BC%80%E6%80%BB%E7%BB%93/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2024/03/31/hello-world/">
        <h2 class="post-title">Hello World</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/3/31
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new &quot;My New Post&quot;
</code></pre>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server
</code></pre>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate
</code></pre>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy
</code></pre>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
        
    </div>
    <a href="/2024/03/31/hello-world/" class="go-post">阅读全文</a>
</div>


        <div class="page-current">
    
    <span class="current">1</span>
    
    
    
    
</div>

    </div>
    
    <div id="home-card">
        <div id="card-style">
    <div id="card-div">
        <div class="avatar">
            <img src="/images/avatar.jpg" alt="avatar" />
        </div>
        <div class="name">ClarkBigD</div>
        <div class="description">
            <p>Description<br>This is ClarkBigD’s Digital World!</p>

        </div>
        
        
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://cutedian.top">DianDian</a>
            </div>
            
        </div>
        
    </div>
</div>

    </div>
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2024 ClarkBigD&#39;s Digital World
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;ClarkBigD
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
</body>
</html>
